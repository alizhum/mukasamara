const navToggle = document.getElementById('nav-toggle');
const navLinks = document.querySelectorAll('.header-nav a[href^="#"]');

new WOW().init();
modalInit();

const introSlider = new Swiper('.certs-slider', {
  slidesPerView: 'auto',
  watchOverflow: true,
  breakpoints: {
    0: {
      spaceBetween: 20
    },
    1170: {
      spaceBetween: 90
    }
  },
  navigation: {
    prevEl: '.certs-nav-button--prev',
    nextEl: '.certs-nav-button--next'
  },
});


navToggle.addEventListener('click', function() {

  header.classList.toggle('nav-active');
  this.classList.toggle('active');
  document.body.classList.toggle('overflow-hidden');
  document.querySelector('.header-nav').classList.toggle('active');

});

navLinks.forEach(link => {
  link.addEventListener('click', function() {
    navToggle.click();
  });
});

const toTopButton = document.getElementById('to-top');

function toggleToTopButton() {
    if (window.scrollY > 100) {
        toTopButton.classList.add('show');
    } else {
        toTopButton.classList.remove('show');
    }
}

window.addEventListener('scroll', toggleToTopButton);

toTopButton.addEventListener('click', function() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
});

// Modal
function modalInit() {
  const openModal = document.querySelectorAll('.open-modal');
  const modalClose = document.querySelectorAll('.modal-close');

  if (openModal) {
    openModal.forEach(function(button) {
      button.addEventListener('click', function(e) {
        e.preventDefault();
        const modalId = button.dataset.id;
        const modal = document.getElementById(modalId);
  
        if (modal) {
          document.body.classList.add('overflow-hidden');
          modal.classList.add('active');
  
          // Add event listener to close modal when clicking outside
          modal.addEventListener('click', function(e) {
            if (e.target === modal) {
              closeModal(modal);
            }
          });
        }
      });
    });
  }
  
  if (modalClose) {
    modalClose.forEach(function(button) {
      button.addEventListener('click', function() {
        const modal = this.closest('.modal');
        closeModal(modal);
      });
    });
  }
  
  function closeModal(modal) {
    modal.classList.remove('active');
    if (!document.querySelector('.modal.active')) {
      document.body.classList.remove('overflow-hidden');
    }
  }
}

